(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c3a9efc","chunk-34617e9e"],{"18c2":function(e,t,a){var i={"./theme1/file/edit.png":"6e30"};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=s,e.exports=n,n.id="18c2"},"26a4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"device_info_wrap"},[i("div",{staticClass:"device_img_wrap"},[i("img",{staticClass:"type_img",attrs:{src:e.deviceInfo.printer_image_path,alt:""}})]),i("div",{staticClass:"device_desc_wrap"},[i("div",{staticClass:"device_desc_item device_name_wrap"},[i("span",[e._v(e._s(e.$t("Configure.ScreenName")))]),i("div",{staticClass:"device_name_control"},[i("div",{staticClass:"device_name"},[e._v(e._s(e.screenName))]),i("img",{attrs:{src:a("18c2")("./"+e.config.uiSettings.theme.theme+"/file/edit.png"),alt:""},on:{click:e.handleEditFile}})])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("Configure.serial")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.serial_number))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("Configure.cumulativeUse")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.up_right_now_time_str))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("Configure.capacity")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.local_size))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("Configure.TerminalFirmware")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.machine_version))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("newAdd.relearseDate")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.complie_time))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("Configure.PrinterModel")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.printer_type))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("Configure.PrinterSize")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.machine_size))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("newAdd.macAddr")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.mac_addr||""))])]),i("div",{staticClass:"device_desc_item"},[i("span",[e._v(e._s(e.$t("newAdd.macAddrWifi")))]),i("span",{staticClass:"device_desc_value"},[e._v(e._s(e.deviceInfo.mac_addr_wifi||""))])])]),i("van-dialog",{staticClass:"edit-file-dialog",style:{top:e.isEditFocus?"32%":"45%"},attrs:{"before-close":e.onBeforeClose,"cancel-button-text":e.$t("Common.cancel"),"confirm-button-text":e.$t("Common.confirm"),title:e.$t("Configure.ScreenName"),"show-cancel-button":""},model:{value:e.editNameShow,callback:function(t){e.editNameShow=t},expression:"editNameShow"}},[i("div",{staticClass:"dialog_model"},[i("div",{staticClass:"dialog_model-bottom"},[i("van-field",{ref:"editInput",attrs:{type:"text",maxlength:"30",clearable:""},on:{focus:e.handleFocus,blur:e.handleBlur,input:e.handleInput},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)])]),i("cx-loading",{attrs:{visible:e.isLoading},on:{"update:visible":function(t){e.isLoading=t}}},[e._v(e._s(e.$t("Common.loading")))])],1)},n=[],s=a("5530"),c=a("1da1"),r=a("d4ec"),o=a("bee2"),u=a("262e"),l=a("2caf"),d=(a("498a"),a("96cf"),a("9ab4")),v=a("1b40"),m=a("360d"),h=a("2f62"),f=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.screenName="",e.copyScreenName="",e.cancelTokenFn=null,e.isLoading=!1,e.editNameShow=!1,e.inputValue="",e.originInputValue="",e.deviceInfo={serial_number:"",use_time:"",local_size:"",machine_version:"",printer_type:"",machine_size:""},e.isEditFocus=!1,e}return Object(o["a"])(a,[{key:"getLocalMachineInfo",get:function(){return this.$store.getters["common/getLocalMachineInfo"]}},{key:"onLocalMachineInfoChange",value:function(e){var t;this.screenName=null===(t=e.machine_name)||void 0===t?void 0:t.machine_name,this.copyScreenName=this.screenName,this.deviceInfo=Object.assign({},e)}},{key:"saveDeviceName",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.screenName){e.next=3;break}return this.$toast.fail(this.$t("BootGuide.pleaseEnter")),e.abrupt("return");case 3:if(this.copyScreenName!==this.screenName){e.next=6;break}return this.$toast.fail(this.$t("BootGuide.pleaseAmend")),e.abrupt("return");case 6:return this.isLoading=!0,e.next=9,this.setDeviceName();case 9:t=e.sent,this.isLoading=!1,t?(this.$toast.success(this.$t("BootGuide.deviceNameSuccess")),this.copyScreenName=this.screenName):this.$toast.fail(this.$t("BootGuide.deviceNameFail"));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDeviceInfo",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.cancelTokenFn&&this.cancelTokenFn(),this.cancelTokenFn=null,this.$httpClient({method:"get",url:"".concat(this.$backBaseUrl,"/settings/machine_info/"),params:{method:"get_machine_info"},cancelToken:new this.$httpClient.prototype.CancelToken((function(e){t.cancelTokenFn=e}))}).then((function(e){var a,i=e.data,n=i.code,s=i.data;"0000"===n&&(t.screenName=null===(a=s.machine_name)||void 0===a?void 0:a.machine_name,t.copyScreenName=t.screenName,t.deviceInfo=Object.assign({},s))})).catch((function(){var e=setTimeout((function(){clearTimeout(e),t.getDeviceInfo()}),4e3)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function(){}},{key:"handleFocus",value:function(){this.$audioPlay(),this.isEditFocus=!0}},{key:"handleBlur",value:function(){var e=this,t=setTimeout((function(){e.isEditFocus=!1,clearTimeout(t)}),100)}},{key:"handleInput",value:function(e){this.inputValue=e.trim()}},{key:"handleEditFile",value:function(){this.$audioPlay(),this.editNameShow=!0,this.inputValue=this.screenName,this.originInputValue=this.screenName}},{key:"onBeforeClose",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("confirm"!==t){e.next=13;break}if(this.$audioPlay(),this.inputValue){e.next=5;break}return this.$toast.fail(this.$t("BootGuide.pleaseEnter")),e.abrupt("return",a(!1));case 5:if(this.originInputValue!==this.inputValue){e.next=7;break}return e.abrupt("return",a());case 7:return this.screenName=this.inputValue,e.next=10,this.saveDeviceName();case 10:return e.abrupt("return",a());case 13:return this.$audioPlay(),this.inputValue=this.originInputValue,this.originInputValue="",e.abrupt("return",a());case 17:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()}]),a}(Object(v["c"])(m["default"]));Object(d["a"])([Object(v["h"])("getLocalMachineInfo",{immediate:!0})],f.prototype,"onLocalMachineInfoChange",null),f=Object(d["a"])([Object(v["a"])({computed:Object(s["a"])({},Object(h["b"])(["config"]))})],f);var p=f,_=p,g=(a("571c"),a("2877")),b=Object(g["a"])(_,i,n,!1,null,"94e767b2",null);t["default"]=b.exports},"360d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"device_name_wrap"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("BootGuide.deviceName")))]),a("div",{staticClass:"device_name_input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.screenName,expression:"screenName"}],attrs:{type:"text"},domProps:{value:e.screenName},on:{input:[function(t){t.target.composing||(e.screenName=t.target.value)},e.handleInput],focus:e.handleFocus}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.screenName.length,expression:"screenName.length"}],staticClass:"iconfont icon-chacha",on:{click:e.clearScreenName}})]),a("div",{staticClass:"btn_wrap"},[a("van-button",{staticClass:"pre_step comm-step__btn",on:{click:function(t){return e.backPrePage()}}},[e._v(e._s(e.$t("BootGuide.preStep")))]),a("van-button",{staticClass:"comm-step__btn",on:{click:function(t){return e.nextPage()}}},[e._v(e._s(e.$t("BootGuide.nextStep")))])],1)])},n=[],s=a("1da1"),c=a("d4ec"),r=a("bee2"),o=a("262e"),u=a("2caf"),l=(a("ac1f"),a("5319"),a("498a"),a("96cf"),a("9ab4")),d=a("1b40"),v=function(e){Object(o["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.screenName=e.$t("BootGuide.deviceScreenName"),e}return Object(r["a"])(a,[{key:"setDeviceName",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$httpClient({method:"post",url:"".concat(this.$backBaseUrl,"/settings/machine_info/"),data:{method:"set_machine_name_info",params:{machine_name:this.screenName}}});case 2:return t=e.sent,a=t.data,e.abrupt("return","0000"===a.code);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"nextPage",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$audioPlay(),this.screenName){e.next=4;break}return this.$toast.fail(this.$t("BootGuide.pleaseEnter")),e.abrupt("return");case 4:return e.next=6,this.setDeviceName();case 6:t=e.sent,t?this.$router.replace("/deviceType"):this.$toast.fail(this.$t("BootGuide.deviceNameFail"));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"backPrePage",value:function(){this.$audioPlay(),this.$router.replace("/Wifi")}},{key:"clearScreenName",value:function(){this.$audioPlay(),this.screenName=""}},{key:"handleFocus",value:function(){this.$audioPlay()}},{key:"handleInput",value:function(e){this.screenName=e.target.value.trim()}}]),a}(Object(d["c"])(d["g"]));v=Object(l["a"])([Object(d["a"])({})],v);var m=v,h=m,f=(a("6289"),a("2877")),p=Object(f["a"])(h,i,n,!1,null,"a3368a7c",null);t["default"]=p.exports},"38af":function(e,t,a){},"4ff0":function(e,t,a){},"571c":function(e,t,a){"use strict";a("38af")},6289:function(e,t,a){"use strict";a("4ff0")},"6e30":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAXCAYAAAAP6L+eAAABh0lEQVRIS9WUvy9DURSAv+N3mqBPdDH5H2o1MBUx+BHKZDIamC1GsdhMFjGQCk3xnoR/QIR/wWR7faIiKfWONCUtvfreayzues/57nfuufeIKi0i+ERZ524Pwiql4iaTAy+mVFFFRNDQ3NxDjLbOHMgocAcyzZh1/zNfQgPLgYfaQbeXASZr8lzET5Pqv6xlhQcfaivd3h6wYJB5R2SGlJX92gsHVhUcbwdYNlYo2PjWFONSjAY+97YQXQsLLccFGzveOqobv/TijII1zZy8Rmue7a2AbkeFNja2vSXQ3V+qylGwZk2mje/YcWdQOQBaDbaBULOx46ZQKT+bDgM0S8Gaa2RqNnbywygOEKuDCic8WfNhoN+NLx6T+P4V0FtvqscU+tJhoVWw7Q2CXgOJOqjKEc/xxSjQKtjJT6Cc/hU0ACwZEvFFhuQt0qD6DK78vIrxPnCLyi2iN3RZGUak1Ay0anyj7SQpIRJ+LgecGDwrmlQWbNc8CpsEVj+Inf+z8mtdhP8G/gDy3Y8OWt7TcwAAAABJRU5ErkJggg=="}}]);