(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f87b71c"],{"2e23":function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"camera-page"},[c("div",{staticClass:"page-hd"},[c("div",[t._v(t._s(t.$t("Configure.camera")))]),c("div",{staticClass:"tip"},[t._v(t._s(t.getTitleTip()))])]),c("div",{staticClass:"page-bd"},t._l(t.cameraList,(function(e){return c("div",{key:e.cameraId,staticClass:"camera-item"},[e.visible?c("div",{class:e.isfullScreen?"fullScreen camera-obj":"camera-obj"},[c("CameraBox",{attrs:{cameraProps:e}}),e.isfullScreen?t._e():c("CameraTip",{attrs:{cameraProps:e},on:{onClick:t.action}}),e.isfullScreen?c("div",{staticClass:"close-fullscreen-btn"},[c("img",{attrs:{src:a("1ef2")},on:{click:function(t){e.isfullScreen=!1}}})]):t._e()],1):t._e()])})),0),c("div",{staticClass:"page-fd"},[c("span",{on:{click:function(e){return t.jumpToPage("/radiographyList")}}},[c("img",{attrs:{src:a("1674")}})]),c("span",{on:{click:function(e){return t.jumpToPage("/cameraSetting")}}},[c("img",{attrs:{src:a("6505")}})])])])},s=[],i=a("5530"),r=a("d4ec"),n=a("bee2"),o=a("262e"),u=a("2caf"),l=(a("c740"),a("d3b7"),a("159b"),a("d81d"),a("4de4"),a("b0c0"),a("7db0"),a("99af"),a("a15b"),a("9ab4")),m=a("1b40"),f=a("2f62"),h=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"camera-box"},[t.cameraProps.exists&&t.cameraProps.switch?c("div",{staticClass:"img_stream"},[c("img",{attrs:{src:t.cameraProps.url}})]):c("div",{staticClass:"nosream"},[c("img",{attrs:{src:t.cameraProps.exists?a("9c1f"):a("961d")}}),c("div",{staticClass:"camera-status"},[t._v(t._s(t.cameraProps.exists?t.cameraProps.name:t.$t("newAdd.noCamera")))])])])},p=[],d=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a)}(Object(m["c"])(m["g"]));d=Object(l["a"])([Object(m["a"])({props:{cameraProps:{default:{cameraId:"",exists:!1,name:"",status:"closed",switch:!1,url:""}}}})],d);var v=d,b=v,C=(a("5589"),a("2877")),w=Object(C["a"])(b,h,p,!1,null,null,null),g=w.exports,j=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"camera-tip",on:{focus:t.onFocus}},[t.cameraProps.exists?c("div",{staticClass:"tip-box"},[c("span",{staticClass:"unhover"},[t._v(t._s(t.$t(t.cameraProps.switch?"Configure.connectedState":"Configure.unconnectState")))]),c("span",{staticClass:"hover"},[t._v(t._s(t.$t(t.cameraProps.switch?"Configure.connectedState":"Configure.isConnectCamera")))])]):t._e(),t.cameraProps.exists?c("div",{staticClass:"btn-box"},[c("span",{directives:[{name:"show",rawName:"v-show",value:!t.cameraProps.switch,expression:"!cameraProps.switch"}],on:{click:function(e){return t.onClick("confirm")}}},[c("img",{attrs:{src:a("6fba")}})]),c("span",{directives:[{name:"show",rawName:"v-show",value:!t.cameraProps.switch,expression:"!cameraProps.switch"}],on:{click:function(e){return t.onClick("cancel")}}},[c("img",{attrs:{src:a("caa5")}})]),c("span",{directives:[{name:"show",rawName:"v-show",value:t.cameraProps.switch,expression:"cameraProps.switch"}],on:{click:function(e){return t.onClick("fullscreen")}}},[c("img",{attrs:{src:a("cc22")}})]),c("span",{directives:[{name:"show",rawName:"v-show",value:t.cameraProps.switch,expression:"cameraProps.switch"}],on:{click:function(e){return t.onClick("close")}}},[c("img",{attrs:{src:a("627d")}})])]):t._e()])},O=[],k=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return Object(n["a"])(a,[{key:"onFocus",value:function(){}},{key:"onClick",value:function(t){this.$emit("onClick",this.cameraProps["cameraId"],t)}}]),a}(Object(m["c"])(m["g"]));Object(l["a"])([Object(m["d"])({type:Object,default:{cameraId:"",exists:!1,name:"",status:"closed",switch:!1,url:""}})],k.prototype,"cameraProps",void 0),k=Object(l["a"])([Object(m["a"])({})],k);var _=k,P=_,x=(a("8a27"),Object(C["a"])(P,j,O,!1,null,null,null)),$=x.exports,y=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.cameraList=[],t}return Object(n["a"])(a,[{key:"mounted",value:function(){this.getCameras()}},{key:"action",value:function(t,e){this.$audioPlay();var a=this.cameraList.findIndex((function(e){return e.cameraId==t})),c=this.cameraList[a];"confirm"==e?(c.status="connecting",c.switch=!0,this.saveCameraSwitch(c)):"cancel"==e?(c.visible=!1,this.$nextTick((function(){return c.visible=!0}))):"fullscreen"==e?c.isfullScreen=!0:"close"==e&&(c.status="closed",c.switch=!1,this.saveCameraSwitch(c))}},{key:"updateObj",value:function(t){this.cameraList.forEach((function(e){e.url==t.url&&Object.assign(e,t)}))}},{key:"jumpToPage",value:function(t){this.$audioPlay(),t&&this.$router.push(t)}},{key:"getCameras",value:function(){var t=this;this.$httpClient({method:"get",url:"".concat(this.$backBaseUrl,"/settings/cam?method=get_cam_url")}).then((function(e){var a=e.data;a.data&&(t.cameraList=a.data.filter((function(t,e){return t.exists||0==e})).map((function(t){return Object.assign(t,{visible:!0,isfullScreen:!1})})))})).catch((function(){return t.cameraList=[]}))}},{key:"saveCameraSwitch",value:function(t){this.$httpClient({method:"post",url:"".concat(this.$backBaseUrl,"/settings/machine_file/"),data:{method:"set_camera_switch",params:{cameraId:t.cameraId,camera_switch:t.switch}}}).then((function(t){var e=t.data;e.code})).catch((function(){return t.switch=!1}))}},{key:"getTitleTip",value:function(){var t=this.cameraList.filter((function(t){return t.exists&&t.switch})).map((function(t){return t.name}));return this.cameraList.find((function(t){return t.exists}))?t.length?"".concat(this.$t("File.opened")).concat(t.join(",")):this.$t("Configure.pleaseSelectCamera"):this.$t("newAdd.pleaseConnectCamera")}}]),a}(Object(m["c"])(m["g"]));y=Object(l["a"])([Object(m["a"])({computed:Object(i["a"])({},Object(f["b"])(["camera"])),components:{CameraBox:g,CameraTip:$}})],y);var S=y,L=S,T=(a("f194"),Object(C["a"])(L,c,s,!1,null,null,null));e["default"]=T.exports},"38a6":function(t,e,a){},"4e49":function(t,e,a){},5589:function(t,e,a){"use strict";a("4e49")},"8a27":function(t,e,a){"use strict";a("d312")},d312:function(t,e,a){},f194:function(t,e,a){"use strict";a("38a6")}}]);