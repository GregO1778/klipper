(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-635173c0"],{"1c5d":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"connection_result_wrap"},[a("img",{staticClass:"duigou",attrs:{src:r("24de"),alt:""}}),a("div",{staticClass:"title"},[t._v(t._s(t.$t(t.isSuccess?"BootGuide.connectionSuccess":"BootGuide.connectionFail")))]),t.isSuccess?t._e():a("div",{staticClass:"tips"},[t._v(t._s(t.$t("BootGuide.connectionFailtips")))]),a("div",{staticClass:"disconnect_info "},["Printer is ready"!==t.klippyStateMessage?a("div",{staticClass:"error-tip",domProps:{innerHTML:t._s(t.handleConnectError(t.klippyStateMessage))}}):t._e()]),a("div",{staticClass:"btn_wrap"},[a("van-button",{staticClass:"pre_step comm-step__btn",on:{click:function(e){return t.backPrePage()}}},[t._v(t._s(t.$t(t.isSuccess?"BootGuide.preStep":"BootGuide.back")))]),a("van-button",{staticClass:"comm-step__btn",attrs:{disabled:t.isReload},on:{click:function(e){return t.nextPage()}}},[t._v(t._s(t.$t("Disconnect.restart")))])],1),a("cx-loading",{attrs:{visible:t.isLoading},on:{"update:visible":function(e){t.isLoading=e}}},[t._v(t._s(t.$t("Common.loading")))])],1)},i=[],n=r("1da1"),s=r("d4ec"),c=r("bee2"),o=r("262e"),u=r("2caf"),l=(r("96cf"),r("ac1f"),r("5319"),r("d3b7"),r("ddb0"),r("9ab4")),p=r("1b40"),h=r("9265"),d=r("af22"),f=function(t){Object(o["a"])(r,t);var e=Object(u["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.isSuccess=!0,t.isLoading=!1,t.timer=-1,t.isReload=!1,t}return Object(c["a"])(r,[{key:"onKlippyReadyChange",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e&&(clearInterval(this.timer),this.$router.replace("/startCheck"));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"beforeDestroy",value:function(){clearInterval(this.timer)}},{key:"backPrePage",value:function(){this.$audioPlay(),this.$router.replace("deviceType")}},{key:"nextPage",value:function(){this.$audioPlay(),this.reloadKlipperService()}},{key:"reloadKlipperService",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return clearInterval(this.timer),this.isReload=!0,this.timer=window.setInterval((function(){i.isReload=!1}),1e4),this.isLoading=!0,t.next=6,this.$httpClient({method:"get",url:"".concat(this.$backBaseUrl,"/settings/machine_info/?method=restart_klipper_and_mcu")});case 6:e=t.sent,this.isLoading=!1,r=(null===e||void 0===e?void 0:e.data)||{},a=r.code,"0000"===a?(this.$store.commit("socket/setAcceptNotifications",!1),this.$store.dispatch("reset",["server","printer","charts","wait"],{root:!0})):this.$toast.fail(this.$t("Common.failure"));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleConnectError",value:function(t){try{var e=JSON.parse(t),r=e.code,a=e.values,i=void 0===a?[]:a;return r&&this.$t("crealityError.".concat(r))?0!==i.length?this.$t("crealityError.".concat(r),i):this.$t("crealityError.".concat(r)):e.msg}catch(n){return t}}}]),r}(Object(p["c"])(h["a"],d["a"]));Object(l["a"])([Object(p["h"])("klippyReady")],f.prototype,"onKlippyReadyChange",null),f=Object(l["a"])([Object(p["a"])({})],f);var v=f,m=v,b=(r("7402"),r("2877")),g=Object(b["a"])(m,a,i,!1,null,"51a062d6",null);e["default"]=g.exports},"24de":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAYCAYAAACIhL/AAAADT0lEQVRYR82XT2icRRjGn2e+Xau1FVtM6+63fxq0CC3ooQcvouhlpRZCiGiDKPbQGiuIPSmCtIiHHixIC/UiIkULVrSF4p8WxKP/j0FbpKbfl/0Sa7UNsZDu7jePTEzK7iQxu0k0mePwzPP+eGfed2YowZCwWCEj34h2wuCJdRzfOcitNUogCa0EvnwavQDgMDCZtE+qLD7JlQDmGPJpvB/QAY/n+PIDSiZvY5c1l73m4bb3qWUF3KrBm67Yte8B6G9l0zgteqvZ8pfLBrhRo7cGqn0MoeJl7rI12D7K0vduflkAC4rX21Sfgbi/FY4XYRqPJuz+eXr+fwcsKA6t1VkAW7zM/QQTVBKGcfP8DcCwET27KqifvMC7xv6rys6reg+sPQOo3BJD+JaBeazKwh9+7EnAMI2eF3AU0DmYTE/C8NxSQ+Z0cRstPwfQ1eJNnK3z5r7fueGv2WIyV48qNPgUQDAluCrL/pFs8YulggzrQ4/I8BTAtZ7nh+vM+DPuxpgrFvM2Pg1phydIAbySBKU3FwuZa8R9pD4AsMrzOpqY4osgXaw5B10vumpvOyJoz8z91/tZY3cPsXtiIaC5Rryb1NtNuzNlo9eToLy/Hc8bRZJPo70A3gKQbV4o4btMgN6YpaQdw2lNLo1eJfCG18oswJeSoHikXa+WNhPWhx+WsScA3OEZJDSmr8rCN/MaS8zZ+BCBfZ62BnFXkiken9ejSTCjD27UUHdgzSkA93pGE5Seq2bKx+YMIGVCO/yuoKc9zTVZPr6Qwpu1UXfp0pqsJo5B6PVhBBwaMcWX/cNdUHyLFU7MUnB/0pgdVRa+7iRz09q5bxKJeRsdAPjajCuROJOh+iOWrzijTfr19loanAbxgAdRtUaVUZYHFwLn1sx71U21CffiWOMFOQ+T9mTBsbo1rmf6R+K8NWlllN1DC4VrC9CJQg3fJ2vdudzUUuHAGAGXxZZ5AD+mprb9N959aTFwbQM64Z0a6QrS+kciHvrXoNRXNa7uucyu8cXCdQToxNv0QzaxGw4TGJg1OHFyNa/3/8LN15cCrmPA6aBhGg3on89NU1PXO4kpDcx3dXUCPvnj7GRBszan6EFa9wJCUdDBEVM6CHJJf4cO8G/7WDgUvluaFAAAAABJRU5ErkJggg=="},7402:function(t,e,r){"use strict";r("df7f")},af22:function(t,e,r){"use strict";var a=r("1da1"),i=r("d4ec"),n=r("bee2"),s=r("262e"),c=r("2caf"),o=(r("96cf"),r("9ab4")),u=r("2b0e"),l=r("c56f"),p=r("1b40"),h=function(t){Object(s["a"])(r,t);var e=Object(c["a"])(r);function r(){return Object(i["a"])(this,r),e.apply(this,arguments)}return Object(n["a"])(r,[{key:"hostReboot",value:function(){l["a"].machineReboot()}},{key:"hostShutdown",value:function(){l["a"].machineShutdown()}},{key:"serviceRestartKlipper",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("socket/setAcceptNotifications",!1),t.next=3,this.$store.dispatch("reset",["server","printer","charts","wait"],{root:!0});case 3:l["a"].machineServicesRestart("klipper");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"serviceRestartMoonraker",value:function(){l["a"].serverRestart(),this.$store.commit("socket/setSocketDisconnecting",!0)}},{key:"serviceRestartByName",value:function(t){l["a"].machineServicesRestart(t)}},{key:"restartKlippy",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$audioPlay(),this.$store.commit("socket/setAcceptNotifications",!1),t.next=4,this.$store.dispatch("reset",["server","printer","charts","wait"],{root:!0});case 4:l["a"].printerRestart();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"firmwareRestartKlippy",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$audioPlay(),this.$store.commit("socket/setAcceptNotifications",!1),t.next=4,this.$store.dispatch("reset",["server","printer","charts","wait"],{root:!0});case 4:l["a"].printerFirmwareRestart();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),r}(u["a"]);h=Object(o["a"])([p["a"]],h),e["a"]=h},df7f:function(t,e,r){}}]);