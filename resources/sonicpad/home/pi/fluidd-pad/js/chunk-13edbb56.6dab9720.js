(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13edbb56"],{"1fb3":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comm_z_offset_wrap"},[i("div",{staticClass:"select_distance"},[i("UnitSelect",{attrs:{labelText:t.$t("PrintCheck.mobileDistance"),currentUnit:t.currentItem,unitList:t.zOffsetList,width:"10%"},on:{"update:currentUnit":function(e){t.currentItem=e},"update:current-unit":function(e){t.currentItem=e}}})],1),i("div",{staticClass:"distance_content"},[i("div",{staticClass:"left"},[i("div",{staticClass:"bed-nozzal-img"},[i("img",{staticClass:"nozzal",class:{isUp:t.isUp,isDown:t.isDown},attrs:{src:s("76af"),alt:""}}),i("img",{staticClass:"heat-bed",attrs:{src:s("8537"),alt:""}})]),i("div",{staticClass:"z-offset-value-wrap"},[t._v(t._s(t.$t("Configure.zCompensation"))+" "),t.zOffsetHome?i("span",{staticClass:"z-offset-value"},[t._v(t._s(t.zOffsetHome)+"mm")]):t._e()])]),i("div",{staticClass:"right"},[i("div",{staticClass:"icon_wrap offset-up",class:{isDisable:t.isDisableAdjust},on:{click:function(e){return t.sendZAdjustGcode("+")}}}),i("div",{staticClass:"icon_wrap offset-down",class:{isDisable:t.isDisableAdjust},on:{click:function(e){return t.sendZAdjustGcode("-")}}})])]),t.isShowBtn?i("div",{staticClass:"btn_wrap"},[i("van-button",{staticClass:"pre_step",on:{click:function(e){return t.onStop()}}},[t._v(t._s(t.$t("PrintCheck.stop")))]),i("van-button",{staticClass:"pre_step",class:{isDisable:t.isRequesting},on:{click:function(e){return t.onConfirm()}}},[t._v(t._s(t.$t("PrintCheck.confirm")))])],1):t._e(),t.moveStopBtn?i("van-button",{staticClass:"comm-step__btn move_stop",on:{click:function(e){return t.onStop()}}},[t._v(t._s(t.$t("PrintCheck.stop")))]):t._e(),t.loadshow?i("cx-loading",{attrs:{visible:t.loadshow,duration:6e4},on:{"update:visible":function(e){t.loadshow=e}}},[t._v(" "+t._s(t.$t(t.currentLoadingTip))+" ")]):t._e()],1)},n=[],o=s("5530"),a=s("1da1"),r=s("d4ec"),c=s("bee2"),u=s("262e"),l=s("2caf"),d=(s("99af"),s("96cf"),s("9ab4")),h=s("1b40"),p=s("9265"),m=s("0c8b"),f=s("f9f3"),b=s("4cc6"),g=s("2f62"),A=function(t){Object(u["a"])(s,t);var e=Object(l["a"])(s);function s(){var t;return Object(r["a"])(this,s),t=e.apply(this,arguments),t.currentItem=1,t.zValue="0",t.zOffsetList=[.05,.1,.5,1,5],t.loadshow=!1,t.currentLoadingTip="ResetAxis.allReseting",t.isUp=!1,t.isDown=!1,t.moveTimer=null,t.currentOperate="",t.isDisableAdjust=!0,t.isRequesting=!1,t.outTimer=-1,t}return Object(c["a"])(s,[{key:"zOffsetHome",get:function(){return this.$store.getters["common/getZoffsetHome"]}},{key:"bltouchStatus",get:function(){return this.$store.getters["common/getBltouchStatus"]}},{key:"zAxisAbortResult",get:function(){return this.$store.state.common.zAxisAbortResult}},{key:"zAxisAbortResultChange",value:function(t){"ok"===t.result&&"abort"===this.currentOperate?this.$toast.success(this.$t("Common.success")):"abort"===this.currentOperate&&this.$toast.success(this.$t("Common.failure"))}},{key:"zAxisAcceptResult",get:function(){return this.$store.state.common.zAxisAcceptResult}},{key:"zAxisAcceptResultChange",value:function(t){"ok"===t.result&&"accept"===this.currentOperate||"accept"===this.currentOperate&&this.$toast.success(this.$t("Common.failure"))}},{key:"zProbeResult",get:function(){return this.$store.state.common.zProbeResult}},{key:"zProbeResultChange",value:function(t){t.result,this.isDisableAdjust=!1}},{key:"hadWaitState",get:function(){return this.hasWait(this.waits.onHomeAll)}},{key:"onWaitStateChange",value:function(t){var e=this;t||(this.outTimer=setTimeout((function(){e.loadshow=!1,clearTimeout(e.outTimer)}),5e3))}},{key:"onAllHomedChange",value:function(t){this.$setLog("all homed Changed: ".concat(t))}},{key:"mounted",value:function(){this.printStateCheck(["printing","paused"])||(this.sendGcode("G28",m["b"].onHomeAll),this.loadshow=!0,this.sendGcode("PROBE_CALIBRATE","","common/setZProbeResult"),this.$store.commit("common/setIsZOffsetAdjust",!0))}},{key:"onSelectDistance",value:function(t){this.$audioPlay(),this.currentItem=t}},{key:"onStop",value:function(){this.$store.commit("common/setIsZOffsetAdjust",!1),this.$audioPlay(),this.printStateCheck(["printing","paused"])||(this.currentOperate="abort",this.sendGcode("ABORT",m["b"].onZAdjustAbort,"common/setZAxisAbortResult"),!this.isBootGuide&&this.$router.go(-1))}},{key:"onConfirm",value:function(){this.isRequesting||(this.$audioPlay(),this.printStateCheck(["printing","paused"])||this.getAllowSave())}},{key:"getAllowSave",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isRequesting){t.next=2;break}return t.abrupt("return");case 2:return this.isRequesting=!0,t.next=5,this.$httpClient({method:"get",url:"".concat(this.$backBaseUrl,"/settings/machine_info/?method=get_z_offset_is_ok")});case 5:e=t.sent,s=e.data,this.isRequesting=!1,"0000"===(null===s||void 0===s?void 0:s.code)?this.isBootGuide?this.$parent["nextPageLogic"]():(this.$store.commit("common/setIsZOffsetAdjust",!1),this.currentOperate="accept",this.sendGcode("ACCEPT",m["b"].onZAdjustAccept,"common/setZAxisAcceptResult"),this.showSaveConfigTip((function(){i.$router.go(-1)}))):this.showSaveErrorDialog();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"showSaveErrorDialog",value:function(){var t=this,e={title:this.$t("Configure.saveTip"),message:this.$t("newAdd.zOffsetErrorTip"),confirmButtonText:this.$t("newAdd.cancelSave"),cancelButtonText:this.$t("Common.confirm"),id:117,_onConfirm:function(){t.$audioPlay()},_onCancel:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$audioPlay(),t.isBootGuide?t.$parent["nextPageLogic"]():(t.$store.commit("common/setIsZOffsetAdjust",!1),t.currentOperate="accept",t.sendGcode("ACCEPT",m["b"].onZAdjustAccept,"common/setZAxisAcceptResult"),t.$router.go(-1),setTimeout((function(){t.sendGcode("SAVE_CONFIG")}),500));case 2:case"end":return e.stop()}}),e)})));function s(){return e.apply(this,arguments)}return s}()};this._dialog.addDialogMsg(e),this._dialog.showDialog()}},{key:"sendZAdjustGcode",value:function(t){var e=this;if(!this.isDisableAdjust&&(this.$audioPlay(),!this.printStateCheck(["printing","paused"])&&!this.hasWait("ZAdjust"))){"-"===t?this.isDown=!0:this.isUp=!0,clearTimeout(this.moveTimer),this.moveTimer=setTimeout((function(){e.isDown=!1,e.isUp=!1,clearTimeout(e.moveTimer)}),500);var s="TESTZ Z=".concat(t).concat(this.currentItem);this.sendGcode(s,this.waits.onZAdjust)}}},{key:"checkIsAllHomeNot",value:function(){return!this.allHomed&&(this.$toast.fail(this.$t("ResetAxis.resetFirst")),!0)}},{key:"beforeDestroy",value:function(){this.$store.commit("common/setIsZOffsetAdjust",!1),clearTimeout(this.outTimer)}}]),s}(Object(h["c"])(p["a"],f["a"]));Object(d["a"])([Object(h["d"])({type:Boolean,default:!0})],A.prototype,"isShowBtn",void 0),Object(d["a"])([Object(h["d"])({type:Boolean,default:!1})],A.prototype,"moveStopBtn",void 0),Object(d["a"])([Object(h["d"])({type:Boolean,default:!0})],A.prototype,"isBootGuide",void 0),Object(d["a"])([Object(h["h"])("zAxisAbortResult")],A.prototype,"zAxisAbortResultChange",null),Object(d["a"])([Object(h["h"])("zAxisAcceptResult")],A.prototype,"zAxisAcceptResultChange",null),Object(d["a"])([Object(h["h"])("zProbeResult")],A.prototype,"zProbeResultChange",null),Object(d["a"])([Object(h["h"])("hadWaitState")],A.prototype,"onWaitStateChange",null),Object(d["a"])([Object(h["h"])("allHomed",{immediate:!0})],A.prototype,"onAllHomedChange",null),A=Object(d["a"])([Object(h["a"])({components:{UnitSelect:b["a"]},computed:Object(o["a"])({},Object(g["b"])(["config"]))})],A);var v=A,O=v,j=(s("f31c"),s("2877")),y=Object(j["a"])(O,i,n,!1,null,"3e9c26c2",null);e["a"]=y.exports},"4cc6":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"unit-select"},[s("div",{staticClass:"label"},[t._v(t._s(t.labelText))]),s("div",{staticClass:"unit-list"},t._l(t.unitList,(function(e,i){return s("div",{key:i,staticClass:"unit-item",class:{isActive:t.currentUnit===e||e.type&&t.currentUnit.type===e.type},style:{width:t.width?t.width:"auto"},on:{click:function(s){return t.handleToggle(e)}}},[t._v(" "+t._s(t.currentIsObject?e.text:e)+" ")])})),0)])},n=[],o=s("53ca"),a=s("d4ec"),r=s("bee2"),c=s("262e"),u=s("2caf"),l=s("9ab4"),d=s("1b40"),h=function(t){Object(c["a"])(s,t);var e=Object(u["a"])(s);function s(){return Object(a["a"])(this,s),e.apply(this,arguments)}return Object(r["a"])(s,[{key:"currentIsObject",get:function(){return"object"===Object(o["a"])(this.currentUnit)}},{key:"handleToggle",value:function(t){this.$audioPlay(),t!==this.currentUnit&&this.$emit("update:currentUnit",t)}}]),s}(Object(d["c"])(d["g"]));Object(l["a"])([Object(d["d"])({type:String,default:""})],h.prototype,"labelText",void 0),Object(l["a"])([Object(d["d"])({})],h.prototype,"currentUnit",void 0),Object(l["a"])([Object(d["d"])({})],h.prototype,"unitList",void 0),Object(l["a"])([Object(d["d"])({type:String})],h.prototype,"width",void 0),h=Object(l["a"])([Object(d["a"])({})],h);var p=h,m=p,f=(s("e149"),s("2877")),b=Object(f["a"])(m,i,n,!1,null,"57093098",null);e["a"]=b.exports},"76af":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAA7CAYAAADb7MIAAAAFMklEQVRoQ+2bXWxVRRDHf1MKtR8pqMCDyoeKaIWKfJWWtpSWakQggSpRChhNRAXjg8EHJTEajZGo8UnFkPAgCjSIpdIqBIsghFJiQUAtCUIsBGgUTCPUUujHmjmee70WSvfcc6+k5MzLybmZmd3/7s5/Z/fMFWNIEKETSzHGJAB5QD9LEz9qZ0XkgFcHYgwigrExNMYMAqqALBv9GOmsBp4UEas+apvipWFjzHvAUi82MdKdIyIVtr6sQRljbgGOAsnq/OSpRtrbO2zb8ayXmprCoIE3hex+BO4XEasw8QLqA+B5baWx8XdWr9nguaNeDJKTb+C5RQvp169vyGyeiJTZ+LACZYzR2WkCktTp+g1V/Npwwsa/L538vCwmZ08I+agRkVwbh7aghgLH1WFz8198+PEnNr596wzon86zixaE/JwQkWE2Tj2DOneumRUrlZDiL+npaSx+5okAlDWlG2PCyy+YKZ8rNFh+EQMYEIUORhBTQUxdPgIBUQREAQSbr09yiDQPYiqIqSCmYhhQQBBTQUwFMRXEVI8j4Iso3Ev/4VdpRW9nd13j89RpIP8qfWzXi2O9xRVjzF3ARmBUj0N3bQ+JNt37CZiooF4DXrexUJ2mpj9ZuWqNrbovvZSUZF5Y8pRXH1MV1EfAYrW8cKGVi5cudeuks6OTmto6fq4/4rWhqPWnTsnh7pF3gHR/nZKSnBx55z7/P6C2Vu/khwM6g71LphXmMmH8mFCnl14XoPQjgn5McOXN6wJU9qRxFORnh0AtV1DvAy/qL9/u2M33dQd719oDsrPGUjAlJ9TvdxTU28DL+st3u2qp3bu/14HKy80iNyf8HcuZqV4Pqqgwl4n/EsUyBbUMeMtmelpaLrCndh91+w/ZqPvW6dMngWmFeWSOziAxsY+tv6cV1EvAu7YWqvd/Uf+sGcXcmzHSS9dUt0BBac73DTDC1toYQ9XX1dQf/sXWxLNecVE+48dlerWrBmZYffVQz8aYFCVIYJK+d3R08vkXlRw/ccprwz3qd6Fo1V8hIkt6NHQVrEG5wG4GtgPOELa1tVG2fhOnG3+zba9HvbFjRvHgAwWReuuAhSJiXbThCZQL7DZgD6BPlDw+W1fuJLp+ZcSdwymZPd2pK3JFV8Z0Eek+Ib1Co55BucD0uLIb0Folzp9v5tO15c4zWhk29FbmPjILZTxX9gLFIuLZaVSgXGAaW9uAVH0/c/YP1pZV0Np60TOuwYMHUvrYbJKSwoVpWi40WUTOeHbmteCqawPGmCJgc6hMTmOrbP2XtLXpIdRObhzQnwWlJejZyZWTQI6I6DMqiXqmQq0ZY0oBrRZxdsdjxxrYuGmLw449SVpaKqWPz0aBuaKlQgUiogVWUYtvUO5S1EOmHjYdqT98hMqvdMvoXnSpzZ83h0EDlVAdaQGKRERjyZfEBJQL7A3g1VBv6vYdZNt25ZLLpW/fROaWzGTIEL3PcUTZ7VERqfSFxjWOGSgXWPhqQN+vlPUrXSttK327ohWXug/F7OIj1qA0rnSznBvq8ZatOzh4qD48AQ8/VETm6HsiJ2SpiOiZLmYSU1DubCkvKyMqM2p6RXnFZo4ea3BOp5oCRchyEXklZmjisfzC68kYpbOtoQLi9vZ2J/m9LzMjsv+rgEVeCn5twcd8piKAabZR0032vwko8ZLP2QJSvbiBcpeesoFeVzt5oiuaEM8UEaXwuEhcQbnANKPfCQwAdFPNFxH/2W83w+H8eSAuQ9XFqTHmds3ltFA/noD+GUQS/gaATpyCkJnH6AAAAABJRU5ErkJggg=="},8537:function(t,e,s){t.exports=s.p+"img/heat_bed.ee824e0c.png"},"8d20":function(t,e,s){},c53e:function(t,e,s){},e149:function(t,e,s){"use strict";s("c53e")},f31c:function(t,e,s){"use strict";s("8d20")},f9f3:function(t,e,s){"use strict";var i=s("d4ec"),n=s("bee2"),o=s("262e"),a=s("2caf"),r=s("9ab4"),c=s("2b0e"),u=s("1b40"),l=function(t){Object(o["a"])(s,t);var e=Object(a["a"])(s);function s(){return Object(i["a"])(this,s),e.apply(this,arguments)}return Object(n["a"])(s,[{key:"activeExtruder",get:function(){return this.$store.getters["printer/getActiveExtruder"]}},{key:"extruderReady",get:function(){var t=this.$store.getters["printer/getActiveExtruder"];return!!(t&&t.temperature>=0&&t.min_extrude_temp>=0)&&t.temperature>=t.min_extrude_temp}},{key:"allHomed",get:function(){return this.$store.getters["printer/getHomedAxes"]("xyz")}},{key:"xyHomed",get:function(){return this.$store.getters["printer/getHomedAxes"]("xy")}},{key:"xHomed",get:function(){return this.$store.getters["printer/getHomedAxes"]("x")}},{key:"yHomed",get:function(){return this.$store.getters["printer/getHomedAxes"]("y")}},{key:"zHomed",get:function(){return this.$store.getters["printer/getHomedAxes"]("z")}}]),s}(c["a"]);l=Object(r["a"])([u["a"]],l),e["a"]=l}}]);