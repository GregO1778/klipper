(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d87a8406"],{3546:function(e,t,r){"use strict";r("6710")},6710:function(e,t,r){},ed8a:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"developer-page"},[r("div",{staticClass:"developer-header"},[e._v("环境配置")]),r("div",{staticClass:"container"},[e._l(e.serverList,(function(t){return r("div",{key:t.id,staticClass:"list-item",on:{click:function(r){return r.preventDefault(),e.fnServerChange(t)}}},[r("div",{staticClass:"server-info"},[r("div",{staticClass:"server-name"},[e._v(e._s(t.text))]),r("div",{staticClass:"server-add"},[e._v(e._s(t.CX_CLOUD_URL_CN))])]),e.currentServerId===t.id?r("span",{staticClass:"active iconfont icon-duihao"}):e._e()])})),r("div",{staticClass:"change-tip"},[r("span",[e._v("*切换环境后需重启设备方可生效")]),r("div",{staticClass:"go-back",on:{click:function(t){return t.preventDefault(),e.goBack.apply(null,arguments)}}},[e._v("返回")])])],2)])},a=[],i=r("1da1"),s=r("d4ec"),c=r("bee2"),u=r("262e"),o=r("2caf"),v=(r("96cf"),r("b64b"),r("d3b7"),r("159b"),r("9ab4")),d=r("1b40"),l=function(e){Object(u["a"])(r,e);var t=Object(o["a"])(r);function r(){var e;return Object(s["a"])(this,r),e=t.apply(this,arguments),e.currentServerId="",e.serverList=[],e}return Object(c["a"])(r,[{key:"created",value:function(){this.getServerList()}},{key:"getServerList",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={method:"get_config_env",params:{}},e.next=3,this.$httpClient({method:"post",url:"".concat(this.$backBaseUrl,"/settings/machine_info/"),data:t});case 3:r=e.sent,n=(null===r||void 0===r?void 0:r.data)||{},"0000"===n.code&&(this.currentServerId=n.data[0],a=n.data[1],i=Object.keys(a),i.forEach((function(e){var t={1:"国内正式环境",2:"海外正式环境",3:"国内预发布环境",4:"海外测试环境",5:"国内测试环境"},r=Object.assign(a[e],{id:e,text:t[e]});s.serverList.push(r)})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"goBack",value:function(){this.$router.back()}},{key:"fnServerChange",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.currentServerId!==t.id){e.next=2;break}return e.abrupt("return");case 2:return r=this.currentServerId,this.currentServerId=t.id,n={method:"set_config_env",params:{config_env:t.id}},e.next=7,this.$httpClient({method:"post",url:"".concat(this.$backBaseUrl,"/settings/machine_info/"),data:n});case 7:a=e.sent,i=(null===a||void 0===a?void 0:a.data)||{},"0000"!==i.code?this.currentServerId=r:this.$toast.success("环境更换成功，请重启设备");case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(d["g"]);l=Object(v["a"])([Object(d["a"])({})],l);var h=l,f=h,p=(r("3546"),r("2877")),b=Object(p["a"])(f,n,a,!1,null,"72a96aa3",null);t["default"]=b.exports}}]);